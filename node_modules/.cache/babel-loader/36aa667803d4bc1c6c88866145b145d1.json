{"ast":null,"code":"import _toConsumableArray from \"/home/kpost/Desktop/Political_UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"/home/kpost/Desktop/Political_UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/home/kpost/Desktop/Political_UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"/home/kpost/Desktop/Political_UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/kpost/Desktop/Political_UI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/kpost/Desktop/Political_UI/src/views/components/terminate/ViewTerminateEmployee.jsx\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { CRow, CCol, CButton, CBadge, CPagination, CDataTable } from \"@coreui/react\";\nimport { AutoSizer, Table, Column } from \"react-virtualized\";\nimport Select from \"react-select\";\nimport Edit from \"../../images/image 2.svg\";\nimport Remove from \"../../images/image 15.svg\";\nimport { Card } from \"@material-ui/core\";\nimport \"./TerminateEmployee.css\";\nimport { getAllEmployeeMovement, deleteEmployeeMovement } from \"../../../services/ApiService\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport ConfirmDelete from \"../confirmMessage/confirmDelete\";\n\nvar ViewSuspendEmployee = function ViewSuspendEmployee(props) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      OfficeDetails = _useState2[0],\n      setTrasnferEmployee = _useState2[1];\n\n  var _useState3 = useState({\n    value: 5,\n    label: 5\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      limit = _useState4[0],\n      setLimit = _useState4[1];\n\n  var _useState5 = useState(1),\n      _useState6 = _slicedToArray(_useState5, 2),\n      page = _useState6[0],\n      setPage = _useState6[1];\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      totalPage = _useState8[0],\n      setTotalPage = _useState8[1];\n\n  var _useState9 = useState({\n    id: \"\",\n    show: false,\n    name: \"\"\n  }),\n      _useState10 = _slicedToArray(_useState9, 2),\n      deleteId = _useState10[0],\n      setDeleteId = _useState10[1];\n\n  useEffect(function () {\n    getPromote();\n  }, [limit, page]);\n\n  var getPromote = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var promote, array;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return getAllEmployeeMovement(\"movementType=TE\");\n\n            case 3:\n              promote = _context.sent;\n\n              if (promote) {\n                if (promote.data) {\n                  array = [];\n                  promote.data.map(function (x) {\n                    array.push(_objectSpread(_objectSpread({}, x), {}, {\n                      value: x,\n                      office: x.roleId.typeOfOffice.officeType,\n                      locationName: x.roleId.officeLocation.locationName,\n                      location: \"\".concat(x.roleId.officeLocation.state.stateName, \", \").concat(x.roleId.officeLocation.city.cityName, \", \").concat(x.roleId.officeLocation.area.areaName),\n                      departmentName: x.roleId.department.name,\n                      designationName: x.roleId.designation.name,\n                      roleName: x.roleId.roleName,\n                      enteredBy: \"Admin\",\n                      employeeName: x.employeeId.firstName,\n                      createdAt: dateConvert(x.createdAt),\n                      dor: x.dor,\n                      doj: x.doj\n                    }));\n                  });\n                  setTrasnferEmployee(array); // setTotalPage(promote.data.totalPages);\n                }\n              }\n\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function getPromote() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var dateConvert = function dateConvert(val) {\n    var data = new Date(val);\n    return \"\".concat(data.getDate(), \"/\").concat(data.getMonth(), \"/\").concat(data.getFullYear());\n  };\n\n  var deletePromote = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var deletePromotes;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return deleteEmployeeMovement(deleteId.id);\n\n            case 3:\n              deletePromotes = _context2.sent;\n\n              if (deletePromotes) {\n                if (deletePromotes.success === true) {\n                  cancelConfirmDlete();\n                  toast.success(deletePromotes.message);\n                  setTimeout(function () {\n                    setDeleteId(false);\n                  }, 10);\n                }\n              }\n\n              _context2.next = 11;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              toast.error(_context2.t0);\n              console.log(_context2.t0);\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 7]]);\n    }));\n\n    return function deletePromote() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var _noContentRenderer = function _noContentRenderer() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 12\n      }\n    }, \"No Termination's.\");\n  };\n\n  var MIN_TABLE_WIDTH = 2000;\n  var MIN_TABLE_HEIGHT = 350;\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      details = _useState12[0],\n      setDetails = _useState12[1];\n\n  var fields = [{\n    key: \"office\",\n    label: \"Type of Party Office\",\n    _style: {\n      width: \"150px\"\n    }\n  }, {\n    key: \"locationName\",\n    label: \"Location Name\",\n    _style: {\n      width: \"150px\"\n    }\n  }, {\n    key: \"location\",\n    label: \"Party Office Location\",\n    _style: {\n      width: \"300px\"\n    }\n  }, {\n    key: \"departmentName\",\n    _style: {\n      width: \"300px\"\n    }\n  }, {\n    key: \"designationName\",\n    _style: {\n      width: \"200px\"\n    }\n  }, {\n    key: \"roleName\",\n    _style: {\n      width: \"200px\"\n    }\n  }, {\n    key: \"employeeName\",\n    label: \"Party Member\",\n    _style: {\n      width: \"150px\"\n    }\n  }, {\n    key: \"dor\",\n    _style: {\n      width: \"100px\"\n    }\n  }, {\n    key: \"enteredBy\",\n    _style: {\n      width: \"150px\"\n    }\n  }, {\n    key: \"createdAt\",\n    _style: {\n      width: \"100px\"\n    }\n  }, {\n    label: \"Action\",\n    key: \"show_details\",\n    _style: {\n      width: \"1%\"\n    },\n    sorter: false,\n    filter: false\n  }];\n\n  var getBadge = function getBadge(status) {\n    switch (status) {\n      case \"Active\":\n        return \"success\";\n\n      case \"Inactive\":\n        return \"secondary\";\n\n      case \"Pending\":\n        return \"warning\";\n\n      case \"Banned\":\n        return \"danger\";\n\n      default:\n        return \"primary\";\n    }\n  };\n\n  var toggleDetails = function toggleDetails(index) {\n    var position = details.indexOf(index);\n    var newDetails = details.slice();\n\n    if (position !== -1) {\n      newDetails.splice(position, 1);\n    } else {\n      newDetails = [].concat(_toConsumableArray(details), [index]);\n    }\n\n    setDetails(newDetails);\n  };\n\n  var deletemodal = function deletemodal(id, name) {\n    setDeleteId({\n      id: id,\n      show: true,\n      name: name\n    });\n  };\n\n  var cancelConfirmDlete = function cancelConfirmDlete() {\n    setDeleteId({\n      id: \"\",\n      show: false,\n      name: \"\"\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ConfirmDelete, {\n    details: deleteId,\n    confirm: deletePromote,\n    cancel: cancelConfirmDlete,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Card, {\n    className: \"Role-card-container-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CRow, {\n    style: {\n      padding: \"15px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CCol, {\n    md: \"12\",\n    className: \"role-heading-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 11\n    }\n  }, \"List Terminated Party Members\", \" \")), /*#__PURE__*/React.createElement(CRow, {\n    style: {\n      padding: \"15px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CCol, {\n    md: \"10\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CButton, {\n    className: \"saveBtn\",\n    style: {\n      marginLeft: \"16px\"\n    },\n    onClick: function onClick() {\n      props.change();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  }, \"+ Add\"))), /*#__PURE__*/React.createElement(CRow, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CCol, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CDataTable, {\n    size: 1500,\n    items: OfficeDetails,\n    fields: fields,\n    columnFilter: true,\n    tableFilter: true,\n    footer: true,\n    itemsPerPageSelect: true,\n    itemsPerPage: 5,\n    hover: true,\n    sorter: true,\n    pagination: true,\n    scopedSlots: {\n      status: function status(item) {\n        return /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(CBadge, {\n          color: getBadge(item.status),\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 21\n          }\n        }, item.status));\n      },\n      show_details: function show_details(item, index) {\n        return /*#__PURE__*/React.createElement(\"td\", {\n          className: \"py-2\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(CRow, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(CCol, {\n          style: {\n            fontSize: \"1.15rem\"\n          },\n          md: \"12\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          onClick: function onClick() {\n            toggleDetails(index);\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 27\n          }\n        }), /*#__PURE__*/React.createElement(\"i\", {\n          style: {\n            marginRight: \"5px\",\n            color: \"#3480e2\"\n          },\n          onClick: function onClick() {\n            return props.change(OfficeDetails[index]);\n          },\n          class: \"fas fa-edit\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 27\n          }\n        }), /*#__PURE__*/React.createElement(\"i\", {\n          onClick: function onClick() {\n            return deletemodal(OfficeDetails[index]._id, \"\".concat(OfficeDetails[index].employeeName, \" Termination Details\"));\n          },\n          style: {\n            marginLeft: \"5px\",\n            color: \"#e85654\"\n          },\n          class: \"fas fa-trash\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 27\n          }\n        }))));\n      },\n      details: function details(item, index) {}\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(ToastContainer, {\n    autoClose: 2000,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default ViewSuspendEmployee;","map":{"version":3,"sources":["/home/kpost/Desktop/Political_UI/src/views/components/terminate/ViewTerminateEmployee.jsx"],"names":["React","useState","useEffect","CRow","CCol","CButton","CBadge","CPagination","CDataTable","AutoSizer","Table","Column","Select","Card","getAllEmployeeMovement","deleteEmployeeMovement","toast","ToastContainer","ConfirmDelete","ViewSuspendEmployee","props","OfficeDetails","setTrasnferEmployee","value","label","limit","setLimit","page","setPage","totalPage","setTotalPage","id","show","name","deleteId","setDeleteId","getPromote","promote","data","array","map","x","push","office","roleId","typeOfOffice","officeType","locationName","officeLocation","location","state","stateName","city","cityName","area","areaName","departmentName","department","designationName","designation","roleName","enteredBy","employeeName","employeeId","firstName","createdAt","dateConvert","dor","doj","console","log","val","Date","getDate","getMonth","getFullYear","deletePromote","deletePromotes","success","cancelConfirmDlete","message","setTimeout","error","_noContentRenderer","MIN_TABLE_WIDTH","MIN_TABLE_HEIGHT","details","setDetails","fields","key","_style","width","sorter","filter","getBadge","status","toggleDetails","index","position","indexOf","newDetails","slice","splice","deletemodal","padding","marginLeft","change","item","show_details","fontSize","marginRight","color","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  CRow,\n  CCol,\n  CButton,\n  CBadge,\n  CPagination,\n  CDataTable,\n} from \"@coreui/react\";\nimport { AutoSizer, Table, Column } from \"react-virtualized\";\nimport Select from \"react-select\";\nimport Edit from \"../../images/image 2.svg\";\nimport Remove from \"../../images/image 15.svg\";\nimport { Card } from \"@material-ui/core\";\nimport \"./TerminateEmployee.css\";\nimport {\n  getAllEmployeeMovement,\n  deleteEmployeeMovement,\n} from \"../../../services/ApiService\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport ConfirmDelete from \"../confirmMessage/confirmDelete\";\n\nconst ViewSuspendEmployee = (props) => {\n  const [OfficeDetails, setTrasnferEmployee] = useState([]);\n  const [limit, setLimit] = useState({ value: 5, label: 5 });\n  const [page, setPage] = useState(1);\n  const [totalPage, setTotalPage] = useState(0);\n  const [deleteId, setDeleteId] = useState({ id: \"\", show: false, name: \"\" });\n  useEffect(() => {\n    getPromote();\n  }, [limit, page]);\n\n  const getPromote = async () => {\n    try {\n      const promote = await getAllEmployeeMovement(`movementType=TE`);\n      if (promote) {\n        if (promote.data) {\n          let array = [];\n          promote.data.map((x) => {\n            array.push({\n              ...x,\n              value: x,\n              office: x.roleId.typeOfOffice.officeType,\n              locationName: x.roleId.officeLocation.locationName,\n              location: `${x.roleId.officeLocation.state.stateName}, ${x.roleId.officeLocation.city.cityName}, ${x.roleId.officeLocation.area.areaName}`,\n              departmentName: x.roleId.department.name,\n              designationName: x.roleId.designation.name,\n              roleName: x.roleId.roleName,\n              enteredBy: \"Admin\",\n              employeeName: x.employeeId.firstName,\n              createdAt: dateConvert(x.createdAt),\n              dor: x.dor,\n              doj: x.doj,\n            });\n          });\n          setTrasnferEmployee(array);\n          // setTotalPage(promote.data.totalPages);\n        }\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  };\n  const dateConvert = (val) => {\n    var data = new Date(val);\n    return `${data.getDate()}/${data.getMonth()}/${data.getFullYear()}`;\n  };\n\n  const deletePromote = async () => {\n    try {\n      const deletePromotes = await deleteEmployeeMovement(deleteId.id);\n      if (deletePromotes) {\n        if (deletePromotes.success === true) {\n          cancelConfirmDlete();\n          toast.success(deletePromotes.message);\n          setTimeout(() => {\n            setDeleteId(false)\n          }, 10);\n        }\n      }\n    } catch (e) {\n      toast.error(e);\n      console.log(e);\n    }\n  };\n\n  const _noContentRenderer = () => {\n    return <div>No Termination's.</div>;\n  };\n\n  const MIN_TABLE_WIDTH = 2000;\n  const MIN_TABLE_HEIGHT = 350;\n  const [details, setDetails] = useState([]);\n\n  const fields = [\n    { key: \"office\", label: \"Type of Party Office\", _style: { width: \"150px\" } },\n    { key: \"locationName\", label: \"Location Name\", _style: { width: \"150px\" } },\n    { key: \"location\", label: \"Party Office Location\", _style: { width: \"300px\" } },\n    { key: \"departmentName\", _style: { width: \"300px\" } },\n    { key: \"designationName\", _style: { width: \"200px\" } },\n    { key: \"roleName\", _style: { width: \"200px\" } },\n    { key: \"employeeName\", label: \"Party Member\", _style: { width: \"150px\" } },\n    { key: \"dor\", _style: { width: \"100px\" } },\n    { key: \"enteredBy\", _style: { width: \"150px\" } },\n    { key: \"createdAt\", _style: { width: \"100px\" } },\n    {\n      label: \"Action\",\n      key: \"show_details\",\n\n      _style: { width: \"1%\" },\n      sorter: false,\n      filter: false,\n    },\n  ];\n\n  const getBadge = (status) => {\n    switch (status) {\n      case \"Active\":\n        return \"success\";\n      case \"Inactive\":\n        return \"secondary\";\n      case \"Pending\":\n        return \"warning\";\n      case \"Banned\":\n        return \"danger\";\n      default:\n        return \"primary\";\n    }\n  };\n  const toggleDetails = (index) => {\n    const position = details.indexOf(index);\n    let newDetails = details.slice();\n    if (position !== -1) {\n      newDetails.splice(position, 1);\n    } else {\n      newDetails = [...details, index];\n    }\n    setDetails(newDetails);\n  };\n\n  const deletemodal = (id,name) => {\n    setDeleteId({ id: id, show: true, name: name });\n  };\n  const cancelConfirmDlete = () => {\n    setDeleteId({ id: \"\", show: false, name: \"\" });\n  };\n  return (\n    <div>\n      <ConfirmDelete\n        details={deleteId}\n        confirm={deletePromote}\n        cancel={cancelConfirmDlete}\n      />\n      <Card className={\"Role-card-container-3\"}>\n        <CRow style={{ padding: \"15px\" }}>\n          <CCol md=\"12\" className={\"role-heading-3\"}>\n            List Terminated Party Members{\" \"}\n          </CCol>\n        </CRow>\n        <CRow style={{ padding: \"15px\" }}>\n          <CCol md=\"10\">\n            <CButton\n              className={\"saveBtn\"}\n              style={{ marginLeft: \"16px\" }}\n              onClick={() => {\n                props.change();\n              }}\n            >\n              + Add\n            </CButton>\n          </CCol>\n        </CRow>\n        <CRow>\n          <CCol>\n            <CDataTable\n            size={1500}\n              items={OfficeDetails}\n              fields={fields}\n              columnFilter\n              tableFilter\n              footer\n              itemsPerPageSelect\n              itemsPerPage={5}\n              hover\n              sorter\n              pagination\n              scopedSlots={{\n                status: (item) => (\n                  <td>\n                    <CBadge color={getBadge(item.status)}>{item.status}</CBadge>\n                  </td>\n                ),\n                show_details: (item, index) => {\n                  return (\n                    <td className=\"py-2\">\n                      <CRow>\n                        <CCol style={{ fontSize: \"1.15rem\" }} md=\"12\">\n                          <i\n                            onClick={() => {\n                              toggleDetails(index);\n                            }}\n                          ></i>\n                          <i\n                            style={{\n                              marginRight: \"5px\",\n                              color: \"#3480e2\",\n                            }}\n                            onClick={() => props.change(OfficeDetails[index])}\n                            class=\"fas fa-edit\"\n                          ></i>\n                          <i\n                            onClick={() =>\n                              deletemodal(OfficeDetails[index]._id , `${OfficeDetails[index].employeeName} Termination Details`)\n                            }\n                            style={{\n                              marginLeft: \"5px\",\n                              color: \"#e85654\",\n                            }}\n                            class=\"fas fa-trash\"\n                          ></i>\n                        </CCol>\n                      </CRow>\n                    </td>\n                  );\n                },\n                details: (item, index) => {},\n              }}\n            />\n          </CCol>\n        </CRow>\n     \n \n      </Card>\n      <ToastContainer autoClose={2000}></ToastContainer>\n    </div>\n  );\n};\n\nexport default ViewSuspendEmployee;\n"]},"metadata":{},"sourceType":"module"}